<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu May  9 06:34:06 2024 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>glilypond</title>

</head>
<body>

<h1 align="center">glilypond</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#WORKING GLILYPOND">WORKING GLILYPOND</a><br>
<a href="#OPTION OVERVIEW">OPTION OVERVIEW</a><br>
<a href="#FILESPEC ARGUMENTS">FILESPEC ARGUMENTS</a><br>
<a href="#THE LILYPOND PARTS IN ROFF INPUT">THE LILYPOND PARTS IN ROFF INPUT</a><br>
<a href="#GENERATED FILES">GENERATED FILES</a><br>
<a href="#TRANSFORMATION PROCESSES FOR GENERATING EPS FILES">TRANSFORMATION PROCESSES FOR GENERATING EPS FILES</a><br>
<a href="#THE GENERATED NEW ROFF STRUCTURE">THE GENERATED NEW ROFF STRUCTURE</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">glilypond -
integrate lilypond parts into groff</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p style="margin-top: 1em"><b>glilypond</b></p></td>
<td width="1%"></td>
<td width="74%">



<p style="margin-top: 1em">[{<b>--ly2eps</b>|<b>--pdf2eps</b>}]
[<b>-e</b> <i>directory</i>] [<b>-k</b>] [<b>-o</b>
<i>output-file</i>] [<b>-p</b> <i>filename-prefix</i>]
[<b>-t</b> <i>tdir</i>] [{<b>-v</b>|<b>-V</b>}] [<b>-</b>]
[<b>--</b>] [<i>filespec</i> ...]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>glilypond</b></p></td>
<td width="1%"></td>
<td width="74%">


<p>[{<b>--ly2eps</b>|<b>--pdf2eps</b>}] [<b>--eps_dir</b>
<i>directory</i>] [<b>--keep_all</b>] [<b>--output</b>
<i>output-file</i>] [<b>--prefix</b> <i>filename-prefix</i>]
[<b>--temp_dir</b> <i>tdir</i>] [<b>--verbose</b>]
[<b>-</b>] [<b>--</b>] [<i>filespec</i> ...]</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p style="margin-top: 1em"><b>glilypond</b></p></td>
<td width="1%"></td>
<td width="74%">


<p style="margin-top: 1em"><b>-?</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>glilypond</b></p></td>
<td width="1%"></td>
<td width="74%">


<p><b>-h</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>glilypond</b></p></td>
<td width="1%"></td>
<td width="74%">


<p><b>--help</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>glilypond</b></p></td>
<td width="1%"></td>
<td width="74%">


<p><b>--usage</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p style="margin-top: 1em"><b>glilypond</b></p></td>
<td width="1%"></td>
<td width="74%">


<p style="margin-top: 1em"><b>-l</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p><b>glilypond</b></p></td>
<td width="1%"></td>
<td width="74%">


<p><b>--license</b></p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="14%">


<p style="margin-top: 1em"><b>glilypond</b></p></td>
<td width="1%"></td>
<td width="74%">


<p style="margin-top: 1em"><b>--version</b></p></td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>glilypond</b>
transforms sheet music written in the <i>lilypond</i>
language into the <b>groff</b>(7) language using the
<b>.PSPIC</b> request, such that <b>groff</b>(1) can
transform it into a format that can be displayed directly.
<b>.PDFPIC</b> is available, but does on yet work with
lilypond.</p>

<p style="margin-left:11%; margin-top: 1em">Files in
<i>groff</i> language and <i>standard input</i> can be
provided as arguments.</p>

<h2>WORKING GLILYPOND
<a name="WORKING GLILYPOND"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Together with
<b>.PSPIC</b>, <b>glilypond can work only for</b>
<i>troff</i> devices without <i>PDF</i> and <i>X</i>
devices.</p>

<p style="margin-left:11%; margin-top: 1em">I.e., the
following <b>groff</b> devices work, <b>-Tps</b>,
<b>-Tdvi</b>, <b>-Thtml</b>, and <b>-Txhtml</b>.</p>

<p style="margin-left:11%; margin-top: 1em">I&rsquo;m not
sure about the <b>ldp</b> and <b>lj4</b> devices.</p>

<p style="margin-left:11%; margin-top: 1em">In
<b>groffer</b>, it is easier to use the following device
options, either <b>--ps</b>, <b>--div</b>, <b>--html</b>, or
<b>--xhtml</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Unfortunately,
the <b>groff</b> option <b>-Tpdf</b> does not work and the
<b>groffer</b> default <i>PDF</i> works neither.</p>

<p style="margin-left:11%; margin-top: 1em">But
<b>groffer</b> has an additional <i>pdf mode</i>, not
available in <b>groff</b>. It is based on the <i>ps mode</i>
in <b>groff</b> and is called through <b>groffer --pdf2</b>
<i>roff-file-with-lilypond</i>.</p>

<h2>OPTION OVERVIEW
<a name="OPTION OVERVIEW"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Breaking
Options <br>
-?</b>|<b>-h</b>|<b>--help</b>|<b>--usage</b></p>

<p style="margin-left:22%;">Print help or usage
information, then leave the program.</p>

<p style="margin-left:11%;"><b>--version</b></p>

<p style="margin-left:22%;">Print version information.</p>

<p style="margin-left:11%;"><b>-l</b>|<b>--license</b></p>

<p style="margin-left:22%;">Print license information.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Options for
building EPS Files</b> <br>
[<b>--ly2eps</b>]</p>

<p style="margin-left:22%;">Here the <b>lilypond</b>
program creates <i>eps</i> files directly. This is the
default.</p>

<p style="margin-left:11%;">[<b>--pdf2eps</b>]</p>

<p style="margin-left:22%;">The program <b>glilypond</b>
generates a <i>PDF</i> file using <b>lilypond</b>. Then the
<i>eps</i> file is generated by <b>pdf2ps</b> and
<b>ps2eps</b>R<b>.</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Directories
and Files <br>
-e</b>|<b>--eps_dir</b> <i>directory_name</i></p>

<p style="margin-left:22%;">Normally all <i>EPS</i> files
are sent to the temporary directory. With this option, you
can generate your own directory, in which all useful
<i>EPS</i> files are send. So at last, the temporary
directory can be removed.</p>

<p style="margin-left:11%;"><b>-p</b>|<b>--prefix</b>
<i>begin_of_name</i></p>

<p style="margin-left:22%;">Normally all temporary files
get names that start with the <b>ly</b><i>...</i> prefix.
With this option, you can freely change this prefix.</p>


<p style="margin-left:11%;"><b>-k</b>|<b>--keep_all</b></p>

<p style="margin-left:22%;">Normally all temporary files
without the <i>eps</i> files are deleted. With this option,
all generated files either by the <b>lilypond</b> program or
other format transposers are kept.</p>

<p style="margin-left:11%;"><b>-t</b>|<b>--temp_dir</b>
<i>dir</i></p>

<p style="margin-left:22%;">With this option, you call a
directory that is the base for the temporary directory. This
directory name is used as is without any extensions. If this
directory does not exist it is be created. The temporary
directory is created by Perl&rsquo;s security operations
directly under this directory. In this temporary directory,
the temporary files are stored.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Output <br>
-o</b>|<b>--output</b> <i>file_name</i></p>

<p style="margin-left:22%;">Normally all <i>groff</i>
output of this program is sent to <b>STDOUT</b>. With this
option, that can be changed, such that the output is stored
into a file named in the option argument
<i>file_name</i>.</p>


<p style="margin-left:11%;"><b>-v</b>|<b>-V</b>|<b>--verbose</b></p>

<p style="margin-left:22%;">A lot more of information is
sent to STDERR.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Short Option
Collections</b> <br>
The argument handling of options</p>

<p style="margin-left:11%; margin-top: 1em"><i>Short
options</i> are arguments that start with a single dash
<b>-</b>. Such an argument can consist of arbitrary many
options without option argument, composed as a collection of
option characters following the single dash.</p>

<p style="margin-left:11%; margin-top: 1em">Such a
collection can be terminated by an option character that
expects an option argument. If this option character is not
the last character of the argument, the following final part
of the argument is the option argument. If it is the last
character of the argument, the next argument is taken as the
option argument.</p>

<p style="margin-left:11%; margin-top: 1em">This is the
standard for <i>POSIX</i> and <i>GNU</i> option
management.</p>

<p style="margin-left:11%; margin-top: 1em">For example,
<b><br>
-kVe</b> <i>some_dir</i></p>

<p style="margin-left:22%;">is a collection of the short
options <b>-k</b> and <b>-V</b> without option argument,
followed by the short option <b>-e</b> with option argument
that is the following part of the argument <i>some_dir</i>.
So this argument could also be written as several arguments
<b>-k -V -e</b> <i>some_dir</i>.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Handling of
Long Options</b> <br>
Arguments that start with a double dash <b>--</b> are
so-called <i>long options R .</i> Each double dash argument
can only have a single long option.</p>

<p style="margin-left:11%; margin-top: 1em"><i>Long
options</i> have or have not an option argument. An option
argument can be the next argument or can be appended with an
equal sign <b>=</b> to the same argument as the long
option.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>--help</b></p></td>
<td width="2%"></td>
<td width="67%">


<p>is a long option without an option argument.</p></td>
<td width="11%">
</td></tr>
</table>

<p style="margin-left:11%;"><b>--eps_dir</b>
<i>some_dir</i> <b><br>
--eps_dir=</b><i>some_dir</i></p>

<p style="margin-left:22%;">is the long option
<b>--eps_dir</b> with the option argument
<i>some_dir</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Moreover the
program allows abbreviations of long options, as much as
possible.</p>

<p style="margin-left:11%; margin-top: 1em">The <i>long
option</i> <b>--keep_all</b> can be abbreviated from
<b>--keep_al</b> up to <b>--k</b> because the program does
not have another <i>long option</i> whose name starts with
the character <b>k</b>.</p>

<p style="margin-left:11%; margin-top: 1em">On the other
hand, the option <b>--version</b> cannot be abbreviated
further than <b>--vers</b> because there is also the <i>long
option</i> <b>--verbose</b> that can be abbreviated up to
<b>--verb</b>.</p>

<p style="margin-left:11%; margin-top: 1em">An option
argument can also be appended to an abbreviation. So is
<b>--e=</b><i>some_dir</i> the same as <b>--eps_dir</b>
<i>some_dir</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Moreover the
program allows an arbitrary usage of upper and lower case in
the option name. This is <i>Perl</i> style.</p>

<p style="margin-left:11%; margin-top: 1em">For example,
the <i>long option</i> <b>--keep_all</b> can as well be
written as <b>--Keep_All</b> or even as an abbreviation like
<b>--KeE</b>.</p>

<h2>FILESPEC ARGUMENTS
<a name="FILESPEC ARGUMENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">An argument
that is not an option or an option argument is called a
<i>filespec</i> argument.</p>

<p style="margin-left:11%; margin-top: 1em">Without any
<i>filespec</i> argument, <i>standard input</i> is read.</p>

<p style="margin-left:11%; margin-top: 1em">Each
<i>filespec</i> argument must either be the name of a
readable file or a dash <b>-</b> for <i>standard input</i>.
Each input must be written in the <i>roff</i> or
<i>groff</i> language and can include <i>lilypond</i>
parts.</p>

<p style="margin-left:11%; margin-top: 1em">Normally
arguments starting with a dash <b>-</b> are interpreted as
an option. But if you use an argument that consists only of
a doubled dash <b>-- R ,</b> all following arguments are
taken as <i>filespec</i> argument, even if such an argument
starts with a dash. This is handled according to the
<i>GNU</i> standard.</p>

<h2>THE LILYPOND PARTS IN ROFF INPUT
<a name="THE LILYPOND PARTS IN ROFF INPUT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Integrated
Lilypond Codes</b> <br>
A <i>lilypond</i> part within a structure written in the
<i>groff</i> language is the whole part between the
marks</p>

<p style="margin-left:22%;"><b>.lilypond start</b></p>

<p style="margin-left:11%;">and</p>

<p style="margin-left:22%;"><b>.lilypond end</b></p>

<p style="margin-left:11%; margin-top: 1em">A <i>groff</i>
input can have several of these <i>lilypond</i> parts.</p>

<p style="margin-left:11%; margin-top: 1em">When processing
such a <i>lilypond</i> part between <b>.lilypond start</b>
and <b>.lilypond end</b> we say that the <b>glilypond</b>
program is in <i>lilypond mode</i>.</p>

<p style="margin-left:11%; margin-top: 1em">These
<i>lilypond</i> parts are sent into temporary
<i>lilypond</i> files with the file name extension
<b>.ly</b>. These files are transformed later on into
<i>EPS</i> files.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Inclusion of
ly-Files</b> <br>
An additional command line for file inclusion of
<i>lilypond</i> files is given by <b><br>
.lilypond include</b> <i>file_name</i> <br>
in <i>groff</i> input. For each such <i>include</i> command,
one file of <i>lilypond</i> code can be included into the
<i>groff</i> code. Arbitrarily many of these commands can be
included in the <i>groff</i> input.</p>

<p style="margin-left:11%; margin-top: 1em">These include
commands can only be used outside the <i>lilypond</i> parts.
Within the <i>lilypond mode</i>, this inclusion is not
possible. So <b>.lilypond include</b> may not be used in
<i>lilypond mode</i>, i.e. between <b>.lilypond start</b>
and <b>.lilypond end</b>. These included <i>ly</i>-files are
also transformed into <i>EPS</i> files.</p>

<h2>GENERATED FILES
<a name="GENERATED FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">By the
transformation process of <i>lilypond</i> parts into
<i>EPS</i> files, there are many files generated. By
default, these files are regarded as temporary files and as
such stored in a temporary directory.</p>

<p style="margin-left:11%; margin-top: 1em">This process
can be changed by command-line options.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Command Line
Options for Directories</b> <br>
The temporary directory for this program is either created
automatically or can be named by the option
<b>-t</b>|<b>--temp_dir</b> <i>dir</i>.</p>

<p style="margin-left:11%; margin-top: 1em">Moreover, the
<i>EPS</i> files that are later on referred by <b>.PSPIC</b>
command in the final <i>groff</i> output can be stored in a
different directory that can be set by the command-line
option <b>-e</b>|<b>--eps_dir</b> <i>directory_name</i>.
With this option, the temporary directory can be removed
completely at the end of the program.</p>

<p style="margin-left:11%; margin-top: 1em">The beginning
of the names of the temporary files can be set by the
command-line option [<b>-p&nbsp;</b><i>|</i>]
<i>begin_of_name</i>.</p>

<p style="margin-left:11%; margin-top: 1em">All of the
temporary files except the <i>EPS</i> files are deleted
finally. This can be changed by setting the command-line
option [<b>-k&nbsp;</b><i>|</i>] With this, all temporary
files and directories are kept, not deleted.</p>

<p style="margin-left:11%; margin-top: 1em">These
<i>EPS</i> files are stored in a temporary or <i>EPS</i>
directory. But they cannot be deleted by the transformation
process because they are needed for the display which can
take a long time.</p>

<h2>TRANSFORMATION PROCESSES FOR GENERATING EPS FILES
<a name="TRANSFORMATION PROCESSES FOR GENERATING EPS FILES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>Mode
pdf2eps</b> <br>
This mode is the actual default and can also be chosen by
the option <b>--pdf2eps</b>.</p>

<p style="margin-left:11%; margin-top: 1em">In this mode,
the <b>.ly</b> files are transformed by the
<b>lilypond</b>(1) program into <i>PDF</i> files, using</p>

<p style="margin-left:22%;"><b>lilypond --pdf
--output=</b><i>file-name</i></p>

<p style="margin-left:11%;">for each <b>.ly</b> file. The
<i>file-name</i> must be provided without the extension
<b>.pdf</b>. By this process, a file
<i>file-name</i><b>.pdf</b> is generated.</p>

<p style="margin-left:11%; margin-top: 1em">The next step
is to transform these <i>PDF</i> files into a <i>PS</i>
file. This is done by the <b>pdf2ps</b>(1) program using</p>

<p style="margin-left:22%;">$ <b>pdf2ps</b>
<i>file-name</i> <b>.pdf</b> <i>file-name</i> <b>.ps</b></p>

<p style="margin-left:11%;">The next step creates an
<i>EPS</i> file from the <i>PS</i> file. This is done by the
<b>ps2eps</b>(1) program using</p>

<p style="margin-left:22%;">$ <b>ps2eps</b>
<i>file-name</i><b>.ps</b></p>

<p style="margin-left:11%; margin-top: 1em">By that, a file
<i>file-name</i><b>.eps</b> is created for each
<i>lilypond</i> part in the <i>groff</i> file or standard
input.</p>

<p style="margin-left:11%; margin-top: 1em">The last step
to be done is replacing all <i>lilypond</i> parts by the
<i>groff</i> command</p>

<p style="margin-left:22%;"><b>.PSPIC</b>
<i>file-name</i><b>.eps</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>Mode
ly2eps</b> <br>
In earlier time, this mode was the default. But now it does
not work any more, so accept the new default <b>pdf2eps</b>.
For testing, this mode can also be chosen by the
<b>glilypond</b> option <b>--ly2eps</b>.</p>

<p style="margin-left:11%; margin-top: 1em">In this mode,
the <b>.ly</b> files are transformed by the <b>lilypond</b>
program into many files of different formats, including
<i>eps</i> files, using</p>

<p style="margin-left:22%;"><b>$ lilypond --ps
-dbackend=eps -dgs-load-fonts
--output=</b><i>file-name</i></p>

<p style="margin-left:11%;">for each <b>.ly</b> file. The
output <i>file-name</i> must be provided without an
extension, its directory is temporary.</p>

<p style="margin-left:11%; margin-top: 1em">There are many
<i>EPS</i> files created. One having the complete
transformed <b>ly</b> file, named
<i>file-name</i><b>.eps</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Moreover there
are <i>EPS</i> files for each page, named
<i>file-name</i><b>-</b><i>digit</i><b>.eps</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The last step
to be done is replacing all <i>lilypond</i> parts by the
collection of the corresponding <i>EPS</i> page files. This
is done by <i>groff</i> commands <b><br>
.PSPIC</b>
<i>file-name</i><b>-</b><i>digit</i><b>.eps</b></p>

<h2>THE GENERATED NEW ROFF STRUCTURE
<a name="THE GENERATED NEW ROFF STRUCTURE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The new
<b>groff</b>(7) structure generated by <b>glilypond</b> is
either</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>1)</p></td>
<td width="8%"></td>
<td width="78%">


<p>sent to standard output and can there be saved into a
file or piped into <b>groff</b>(1) or <b>groffer</b>(1)
or</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">


<p>2)</p></td>
<td width="8%"></td>
<td width="78%">


<p>stored into a file by given the option
<b>-o&nbsp;&nbsp;|&nbsp;</b>--output <i>file_name</i></p></td></tr>
</table>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><i><b>glilypond</b></i>
was written by
<a href="mailto:groff-bernd.warken-72@web.de">Bernd
Warken</a>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>groff</b>(1)</p>

<p style="margin-left:22%;">describes the usage of the
<i>groff</i> command and contains pointers to further
documentation of the <i>groff</i> system.</p>

<p style="margin-left:11%;"><b>groff_tmac</b>(5)</p>

<p style="margin-left:22%;">describes the <b>.PSPIC</b>
request.</p>

<p style="margin-left:11%;"><b>lilypond</b>(1)</p>

<p style="margin-left:22%;">briefly describes the
<b>lilypond</b> command and contains pointers to further
documentation.</p>

<p style="margin-left:11%;"><b>pdf2ps</b>(1)</p>

<p style="margin-left:22%;">transforms a <i>PDF</i> file
into a <i>PostScript</i> format.</p>

<p style="margin-left:11%;"><b>ps2eps</b>(1)</p>

<p style="margin-left:22%;">transforms a <i>PS</i> file
into an <i>EPS</i> format.</p>
<hr>
</body>
</html>
