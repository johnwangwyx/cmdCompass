TBL(1)                      General Commands Manual                     TBL(1)



NNAAMMEE
       tbl - format tables for troff

SSYYNNOOPPSSIISS
       ttbbll [--CCvv] [_f_i_l_e ...]

DDEESSCCRRIIPPTTIIOONN
       This manual page describes the GNU version of ttbbll, which is part of the
       groff document formatting system.  ttbbll compiles descriptions of  tables
       embedded  within ttrrooffff input files into commands that are understood by
       ttrrooffff.  Normally, it should be invoked using the --tt  option  of  ggrrooffff..
       It is highly compatible with Unix ttbbll.  The output generated by GNU ttbbll
       cannot be processed with Unix ttrrooffff; it  must  be  processed  with  GNU
       ttrrooffff.  If no files are given on the command line or a filename of -- is
       given, the standard input is read.

OOPPTTIIOONNSS
       --CC     Enable compatibility mode to recognize ..TTSS  and  ..TTEE  even  when
              followed  by  a  character  other than space or newline.  Leader
              characters (\a) are handled as interpreted.

       --vv     Print the version number.

LLAANNGGUUAAGGEE OOVVEERRVVIIEEWW
       ttbbll expects to find table descriptions wrapped in the ..TTSS (table start)
       and  ..TTEE  (table end) macros.  Within each such table sections, another
       table can be defined by using the request ..TT&& before the final  command
       ..TTEE.  Each table definition has the following structure:

       _G_l_o_b_a_l _o_p_t_i_o_n_s
              This  is  optional.   This  table  part can use several of these
              options distributed in 1 or more lines.  The _g_l_o_b_a_l _o_p_t_i_o_n  _p_a_r_t
              must always be finished by a sseemmii--ccoolloonn ;; ..

       _T_a_b_l_e _f_o_r_m_a_t _s_p_e_c_i_f_i_c_a_t_i_o_n
              This  part must be given, it is not optional.  It determines the
              number of columns (cells) of the table.  Moreover each  cell  is
              classified  by  being central, left adjusted, or numerical, etc.
              This specification can have several lines, but must be  finished
              by  a ddoott ..  at the end of the last line.  After each cell defi-
              nition, _c_o_l_u_m_n _s_p_e_c_i_f_i_e_r_s can be appended, but that's optional.

       Cells are separated by a tab character by default.  That can be changed
       by the _g_l_o_b_a_l _o_p_t_i_o_n ttaabb((_c)), where _c is an arbitrary character.

SSIIMMPPLLEE EEXXAAMMPPLLEESS
       The easiest table definition is.
              .TS
              c c c .
              This is   centered
              Well,     this also
              .TE
       By  using  cc  cc  cc, each cell in the whole table will be centered.  The
       separating character is here the default _t_a_b.

       The result is

              This     is    centered
              Well,   this     also

       This definition is identical to
              .TS
              tab(@);
              ccc.
              This@is@centered
              Well,@this@also
              .TE
       Here, the separating tab character is changed to the letter @@.

       Moreover a title can be added  and  the  centering  directions  can  be
       changed to many other formats:
              .TS
              tab(@);
              c s s
              l c n .
              Title
              left@centers@123
              another@number@75
              .TE
       The result is

                       Title
              left      centers   123
              another   number     75
       Here  ll  means  _l_e_f_t_-_j_u_s_t_i_f_i_e_d,  and  nn  means _n_u_m_e_r_i_c_a_l, which is here
       _r_i_g_h_t_-_j_u_s_t_i_f_i_e_d.

UUSSAAGGEE
   GGlloobbaall ooppttiioonnss
       The line immediately following the ..TTSS macro may  contain  any  of  the
       following  global  options  (ignoring the case of characters - Unix tbl
       only accepts options with all characters lowercase  or  all  characters
       uppercase), separated by spaces, tabs, or commas:

       aallllbbooxx Enclose each item of the table in a box.

       bbooxx    Enclose the table in a box.

       cceenntteerr Center  the  table (default is left-justified).  The alternative
              keyword name cceennttrree is also recognized (this is a GNU tbl exten-
              sion).

       ddeecciimmaallppooiinntt((_c))
              Set  the  character  to  be  recognized  as the decimal point in
              numeric columns (GNU tbl only).

       ddeelliimm((_x_y))
              Use _x and _y as start and end delimiters for eeqqnn(1).

       ddoouubblleebbooxx
              Enclose the table in a double box.

       ddoouubblleeffrraammee
              Same as doublebox (GNU tbl only).

       eexxppaanndd Make the table as wide as the current line length  (providing  a
              column  separation  factor).   Ignored if one or more `x' column
              specifiers are used (see below).

              In case the sum of the column widths is larger than the  current
              line  length,  the column separation factor is set to zero; such
              tables extend into the right margin, and there is no column sep-
              aration at all.

       ffrraammee  Same as box (GNU tbl only).

       lliinneessiizzee((_n))
              Set lines or rules (e.g. from bbooxx) in _n-point type.

       nnookkeeeepp Don't  use  diversions  to  prevent  page breaks (GNU tbl only).
              Normally ttbbll attempts to prevent  undesirable  breaks  in  boxed
              tables  by  using diversions.  This can sometimes interact badly
              with macro packages' own use of diversions--when footnotes,  for
              example, are used.

       nnoossppaacceess
              Ignore leading and trailing spaces in data items (GNU tbl only).

       nnoowwaarrnn Turn  off  warnings related to tables exceeding the current line
              width (GNU tbl only).

       ttaabb((_x)) Use the character _x instead of a tab to separate items in a line
              of input data.

       The  global  options  must end with a semicolon.  There might be white-
       space between an option and its argument in parentheses.

   TTaabbllee ffoorrmmaatt ssppeecciiffiiccaattiioonn
       After global options come lines describing the format of each  line  of
       the  table.   Each  such  format  line  describes one line of the table
       itself, except that the last format line (which you  must  end  with  a
       period) describes all remaining lines of the table.  A single-key char-
       acter describes each column of each line of the table.  Key  characters
       can  be separated by spaces or tabs.  You may run format specifications
       for multiple lines together on the same line by  separating  them  with
       commas.

       You  may  follow  each key character with specifiers that determine the
       font and point size of the corresponding item,  that  determine  column
       width, inter-column spacing, etc.

       The  longest  format  line  defines the number of columns in the table;
       missing format descriptors at the end of format lines  are  assumed  to
       be  LL.   Extra  columns in the data (which have no corresponding format
       entry) are ignored.

       The available key characters are:

       aa,AA    Center longest line in this column and then  left-justifies  all
              other  lines  in this column with respect to that centered line.
              The idea is to use such alphabetic subcolumns (hence the name of
              the  key  character) in combination with LL; they are called sub-
              columns  because  AA  items  are  indented  by  1n  relative   to
              LL entries.  Example:

                     .TS
                     tab(;);
                     ln,an.
                     item one;1
                     subitem two;2
                     subitem three;3
                     .T&
                     ln,an.
                     item eleven;11
                     subitem twentytwo;22
                     subitem thirtythree;33
                     .TE

              Result:

                     item one                 1
                      subitem two             2
                      subitem three           3
                     item eleven             11
                      subitem twentytwo      22

                      subitem thirtythree    33

       cc,CC    Center item within the column.

       ll,LL    Left-justify item within the column.

       nn,NN    Numerically  justify item in the column: Units positions of num-
              bers are aligned vertically.  If there is one or more dots adja-
              cent  to  a digit, use the rightmost one for vertical alignment.
              If there is no dot, use the rightmost digit for vertical  align-
              ment;  otherwise,  center the item within the column.  Alignment
              can be forced to a certain position using `\&'; if there is  one
              or  more  instances  of  this  special  (non-printing) character
              present within the data, use the  leftmost  one  for  alignment.
              Example:

                     .TS
                     n.
                     1
                     1.5
                     1.5.3
                     abcde
                     a\&bcde
                     .TE

              Result:

                       1
                       1.5
                     1.5.3
                      abcde
                       abcde

              If numerical entries are combined with LL or RR entries - this can
              happen if the table format is changed  with  ..TT&&  -  center  the
              widest _n_u_m_b_e_r (of the data entered under the NN specifier regime)
              relative to the widest LL or RR entry, preserving the alignment of
              all  numerical entries.  Contrary to AA type entries, there is no
              extra indentation.

              Using equations (to be processed with eeqqnn) within columns  which
              use  the  NN  specifier is problematic in most cases due to ttbbll's
              algorithm for  finding  the  vertical  alignment,  as  described
              above.   Using  the global ddeelliimm option, however, it is possible
              to make ttbbll ignore the data within eeqqnn delimiters for that  pur-
              pose.

       rr,RR    Right-justify item within the column.

       ss,SS    Span  previous  item  on the left into this column.  Not allowed
              for the first column.

       ^^      Span down entry from previous row in this column.   Not  allowed
              for the first row.

       __,--    Replace  this  entry  with a horizontal line.  Note that `_' and
              `-' can be used for table fields only, not for column  separator
              lines.

       ==      Replace this entry with a double horizontal line.  Note that `='
              can be used for table fields  only,  not  for  column  separator
              lines.

       ||      The  corresponding  column  becomes  a  vertical rule (if two of
              these are adjacent, a double vertical rule).

       A vertical bar to the left of the first key letter or to the  right  of
       the last one produces a line at the edge of the table.

       To  change  the data format within a table, use the ..TT&& command (at the
       start of a line).  It is followed by format  and  data  lines  (but  no
       global options) similar to the ..TTSS request.

   CCoolluummnn ssppeecciiffiieerrss
       Here  are the specifiers that can appear in suffixes to column key let-
       ters (in any order):

       bb,BB    Short form of ffBB (make affected entries bold).

       dd,DD    Start an item that vertically spans rows, using the  `^'  column
              specifier  or  `\^' data item, at the bottom of its range rather
              than vertically centering it (GNU tbl only).  Example:

                     .TS
                     tab(;) allbox;
                     l l
                     l ld
                     r ^
                     l rd.
                     0000;foobar
                     T{
                     1111
                     .br
                     2222
                     T};foo
                     r;
                     T{
                     3333
                     .br
                     4444
                     T};bar
                     \^;\^
                     .TE

              Result:

                     +-----+--------+
                     |0000 | foobar |
                     +-----+--------+
                     |1111 |        |
                     |2222 |        |
                     +-----+        |
                     |   r | foo    |
                     +-----+--------+
                     |3333 |        |
                     |4444 |    bar |
                     +-----+--------+
       ee,EE    Make equally-spaced columns.  All columns marked with this spec-
              ifier get the same width; this happens after the affected column
              widths have been computed (this means  that  the  largest  width
              value rules).

       ff,FF    Either  of  these  specifiers  may  be  followed  by a font name
              (either one or two  characters  long),  font  number  (a  single
              digit),  or long name in parentheses (the last form is a GNU tbl
              extension).  A one-letter font name must be separated by one  or
              more blanks from whatever follows.

       ii,II    Short form of ffII (make affected entries italic).

       mm,MM    This  is a GNU tbl extension.  Either of these specifiers may be
              followed by a macro name (either one or two characters long), or
              long name in parentheses.  A one-letter macro name must be sepa-
              rated by one or more blanks from whatever  follows.   The  macro
              which name can be specified here must be defined before creating
              the table.  It is called just before the table's  cell  text  is
              output.   As implemented currently, this macro is only called if
              block input is used, that is, text between `T{' and  `T}'.   The
              macro  should  contain  only simple ttrrooffff requests to change the
              text block formatting, like text adjustment, hyphenation,  size,
              or  font.   The  macro  is called _a_f_t_e_r other cell modifications
              like bb, ff or vv are output.  Thus the macro can  overwrite  other
              modification specifiers.

       pp,PP    Followed  by  a  number,  this  does a point size change for the
              affected fields.  If signed, the current point  size  is  incre-
              mented or decremented (using a signed number instead of a signed
              digit is a GNU tbl extension).  A point size specifier  followed
              by  a  column separation number must be separated by one or more
              blanks.

       tt,TT    Start an item vertically spanning rows at the top of  its  range
              rather than vertically centering it.

       uu,UU    Move the corresponding column up one half-line.

       vv,VV    Followed  by  a number, this indicates the vertical line spacing
              to be used in a multi-line table entry.  If signed, the  current
              vertical  line  spacing  is  incremented or decremented (using a
              signed number instead of a signed digit is a GNU tbl extension).
              A  vertical  line spacing specifier followed by a column separa-
              tion number must be separated by one or more blanks.  No  effect
              if the corresponding table entry isn't a text block.

       ww,WW    Minimum  column  width  value.   Must  be  followed  either by a
              ttrrooffff(1) width expression in parentheses or a unitless  integer.
              If  no  unit  is  given,  en  units  are used.  Also used as the
              default line length for included text blocks.  If used  multiple
              times  to  specify  the  width for a particular column, the last
              entry takes effect.

       xx,XX    An expanded column.  After computing all column  widths  without
              an  xx  specifier,  use the remaining line width for this column.
              If there is  more  than  one  expanded  column,  distribute  the
              remaining  horizontal  space  evenly  among the affected columns
              (this is a GNU extension).  This feature has the same effect  as
              specifying a minimum column width.

       zz,ZZ    Ignore  the corresponding column for width-calculation purposes,
              this is, don't use the fields but only the  specifiers  of  this
              column to compute its width.

       A  number  suffix on a key character is interpreted as a column separa-
       tion in en units (multiplied in proportion if the eexxppaanndd option is on -
       in  case of overfull tables this might be zero).  Default separation is
       3n.

       The column specifier xx is mutually exclusive with ee and ww (but ee is not
       mutually  exclusive with ww); if specified multiple times for a particu-
       lar column, the last entry takes effect: xx unsets both ee and  ww,  while
       either ee or ww overrides xx.

   TTaabbllee ddaattaa
       The  format  lines are followed by lines containing the actual data for
       the table, followed finally by ..TTEE.  Within such data lines, items  are
       normally  separated  by tab characters (or the character specified with
       the ttaabb option).  Long input lines can be broken across multiple  lines
       if the last character on the line is `\' (which vanishes after concate-
       nation).

       Note that ttbbll computes the column widths line by line, applying  \w  on
       each  entry  which isn't a text block.  As a consequence, constructions
       like

              .TS
              c,l.
              \s[20]MM
              MMMM
              .TE

       fail; you must either say

              .TS
              cp20,lp20.
              MM
              MMMM
              .TE

       or

              .TS
              c,l.
              \s[20]MM
              \s[20]MMMM
              .TE

       A dot starting a line, followed by anything but a digit is handled as a
       troff  command,  passed through without changes.  The table position is
       unchanged in this case.

       If a data line consists of only `_' or `=', a single  or  double  line,
       respectively, is drawn across the table at that point; if a single item
       in a data line consists of only `_' or `=', then that item is  replaced
       by  a  single  or  double line, joining its neighbours.  If a data item
       consists only of `\_' or `\=', a single or double  line,  respectively,
       is  drawn across the field at that point which does not join its neigh-
       bours.

       A data item consisting only of `\Rx' (`x' any character) is replaced by
       repetitions  of  character  `x'  as wide as the column (not joining its
       neighbours).

       A data item consisting only of `\^' indicates that  the  field  immedi-
       ately above spans downward over this row.

   TTeexxtt bblloocckkss
       A text block can be used to enter data as a single entry which would be
       too long as a simple string between tabs.  It is started with `T{'  and
       closed  with  `T}'.   The  former  must end a line, and the latter must
       start a line, probably followed by other data columns  (separated  with
       tabs or the character given with the ttaabb global option).

       By  default,  the  text block is formatted with the settings which were
       active before entering the table, possibly overridden by the mm, vv,  and
       ww  tbl  specifiers.  For example, to make all text blocks ragged-right,
       insert ..nnaa right before the starting ..TTSS (and ..aadd after the table).

       If either `w' or `x' specifiers are not given for _a_l_l columns of a text
       block  span,  the default length of the text block (to be more precise,
       the line length used to process the text block diversion)  is  computed
       as  LxC/(N+1),  where `L' is the current line length, `C' the number of
       columns spanned by the text block, and `N' the total number of  columns
       in  the  table.   Note,  however,  that  the  actual diversion width as
       returned in register \\nn[[ddll]] is used eventually as the text block width.
       If  necessary,  you can also control the text block width with a direct
       insertion of a ..llll request right after `T{'.

   MMiisscceellllaanneeoouuss
       The number register \\nn[[TTWW]] holds the table  width;  it  can't  be  used
       within the table itself but is defined right before calling ..TTEE so that
       this macro can make use of it.

       ttbbll also defines a macro ..TT## which produces the bottom and  side  lines
       of  a boxed table.  While ttbbll does call this macro itself at the end of
       the table, it can be used by macro packages to create boxes for  multi-
       page  tables  by calling it within the page footer.  An example of this
       is shown by the --mmss macros which provide this functionality if a  table
       starts with ..TTSS HH instead of the standard call to the ..TTSS macro.

IINNTTEERRAACCTTIIOONN WWIITTHH EEQQNN
       ttbbll(1)  should  always  be called before eeqqnn(1) (ggrrooffff(1) automatically
       takes care of the correct order of preprocessors).

GGNNUU TTBBLL EENNHHAANNCCEEMMEENNTTSS
       There is no limit on the number of columns in a table, nor any limit on
       the  number of text blocks.  All the lines of a table are considered in
       deciding column widths, not just the  first  200.   Table  continuation
       (..TT&&) lines are not restricted to the first 200 lines.

       Numeric and alphabetic items may appear in the same column.

       Numeric and alphabetic items may span horizontally.

       ttbbll uses register, string, macro and diversion names beginning with the
       digit 33.  When using ttbbll you should avoid  using  any  names  beginning
       with a 33.

GGNNUU TTBBLL WWIITTHHIINN MMAACCRROOSS
       Since ttbbll defines its own macros (right before each table) it is neces-
       sary to use an `end-of-macro' macro.  Additionally, the escape  charac-
       ter has to be switched off.  Here an example.

              .eo
              .de ATABLE ..
              .TS
              allbox tab(;);
              cl.
              \$1;\$2
              .TE
              ...
              .ec
              .ATABLE A table
              .ATABLE Another table
              .ATABLE And "another one"

       Note, however, that not all features of ttbbll can be wrapped into a macro
       because ttbbll sees the input earlier than  ttrrooffff.   For  example,  number
       formatting  with  vertically aligned decimal points fails if those num-
       bers are passed on as macro parameters because decimal point  alignment
       is  handled  by ttbbll itself: It only sees `\$1', `\$2', etc., and there-
       fore can't recognize the decimal point.

BBUUGGSS
       You should use ..TTSS HH/..TTHH in conjunction with a supporting macro package
       for  _a_l_l  multi-page boxed tables.  If there is no header that you wish
       to appear at the top of each page of the  table,  place  the  ..TTHH  line
       immediately  after the format section.  Do not enclose a multi-page ta-
       ble within keep/release macros, or divert it in any other way.

       A text block within a table must be able to fit on one page.

       The bbpp request cannot be used to force a page-break in a multi-page ta-
       ble.  Instead, define BBPP as follows

              .de BP
              .  ie '\\n(.z'' .bp \\$1
              .  el \!.BP \\$1
              ..

       and use BBPP instead of bbpp.

       Using  \a  directly  in a table to get leaders does not work (except in
       compatibility mode).  This is correct behaviour: \a is an uunniinntteerrpprreetteedd
       leader.   To get leaders use a real leader, either by using a control A
       or like this:

              .ds a \a
              .TS
              tab(;);
              lw(1i) l.
              A\*a;B
              .TE

       A leading and/or trailing `|' in a format line, such as

              |l r|.

       gives output which has a 1n space between the resulting bordering  ver-
       tical rule and the content of the adjacent column, as in

              .TS
              tab(#);
              |l r|.
              left column#right column
              .TE

       If  it is desired to have zero space (so that the rule touches the con-
       tent), this can be achieved by introducing extra "dummy" columns,  with
       no content and zero separation, before and/or after, as in

              .TS
              tab(#);
              r0|l r0|l.
              #left column#right column#
              .TE

       The  resulting  "dummy" columns are invisible and have zero width; note
       that such columns usually don't work with TTY devices.

RREEFFEERREENNCCEE
       Lesk, M.E.: "TBL - A Program to Format Tables".  For copyright  reasons
       it  cannot  be  included  in  the groff distribution, but copies can be
       found with a title search on the World Wide Web.

SSEEEE AALLSSOO
       ggrrooffff(1), ttrrooffff(1)



groff 1.22.4                     November 2018                          TBL(1)
